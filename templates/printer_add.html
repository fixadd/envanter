<label class="form-label">Marka</label>
<select id="selMarka" name="marka" class="form-select" required>
  {% for b in markalar %}
  <option value="{{ b }}">{{ b }}</option>
  {% endfor %}
</select>

<label class="form-label mt-2">Model</label>
<select id="selModel" name="model" class="form-select" required>
  <option value="">Marka seçiniz</option>
</select>

<script>
  const marka = document.getElementById("selMarka");
  const model = document.getElementById("selModel");
  marka.addEventListener("change", () => {
    model.innerHTML = '<option value="">Yükleniyor...</option>';
    if (!marka.value) {
      model.innerHTML = '<option value="">Marka seçiniz</option>';
      return;
    }
    fetch("/api/printers/models?brand=" + encodeURIComponent(marka.value))
      .then((r) => r.json())
      .then((list) => {
        model.innerHTML = '<option value="">Seçiniz</option>';
        list.forEach((m) => {
          const o = document.createElement("option");
          o.value = o.textContent = m;
          model.appendChild(o);
        });
      });
  });
</script>
