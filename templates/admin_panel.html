{% extends "base.html" %}
{% block title %}Admin Paneli{% endblock %}

{% block content %}
<div class="container-fluid p-2">

  <!-- ÜST (tek sekme) -->
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link active" href="/admin?sub={{ sub }}">Admin</a>
    </li>
  </ul>

  <!-- ALT SEKMELER -->
  <div class="bg-light border-bottom px-3 py-2">
    <ul class="nav nav-pills small">
      <li class="nav-item me-2">
        <a class="nav-link {% if sub=='urun' %}active{% endif %}" href="/admin?sub=urun">Ürün Ekle</a>
      </li>
      <li class="nav-item me-2">
        <a class="nav-link {% if sub=='kullanicilar' %}active{% endif %}" href="/admin?sub=kullanicilar">Kullanıcılar</a>
      </li>
    </ul>
  </div>

  <!-- ORTAK: ESKİ KUTULAR (özet) -->
  <div class="row g-3 mt-3">
    <div class="col-6 col-md-3">
      <div class="card stat-box h-100">
        <div class="card-body">
          <div class="stat-title">Toplam Ürün</div>
          <div class="stat-value">0</div>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-3">
      <div class="card stat-box h-100">
        <div class="card-body">
          <div class="stat-title">Stok Azalan</div>
          <div class="stat-value">0</div>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-3">
      <div class="card stat-box h-100">
        <div class="card-body">
          <div class="stat-title">Aktif Kullanıcı</div>
          <div class="stat-value">0</div>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-3">
      <div class="card stat-box h-100">
        <div class="card-body">
          <div class="stat-title">Pasif Kullanıcı</div>
          <div class="stat-value">0</div>
        </div>
      </div>
    </div>
  </div>

  <!-- İÇERİK: ÜRÜN EKLE -->
  {% if sub=='urun' %}
  <nav class="small text-muted mt-3 mb-2">Admin » Ürün Ekle</nav>

  <div class="row g-3">
    <div class="col-lg-7">
      <div class="card shadow-sm">
        <div class="card-body">
          <form>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Ürün Adı</label>
                <input class="form-control" placeholder="Örn: Dell Latitude 5440">
              </div>
              <div class="col-md-3">
                <label class="form-label">Kategori</label>
                <select class="form-select">
                  <option>Bilgisayar</option><option>Yazıcı</option><option>Lisans</option>
                </select>
              </div>
              <div class="col-md-3">
                <label class="form-label">Miktar</label>
                <input type="number" class="form-control" value="1" min="1">
              </div>
              <div class="col-md-6">
                <label class="form-label">Seri No</label>
                <input class="form-control" placeholder="Opsiyonel">
              </div>
              <div class="col-md-6">
                <label class="form-label">Tedarikçi</label>
                <input class="form-control" placeholder="Opsiyonel">
              </div>
              <div class="col-12">
                <label class="form-label">Açıklama</label>
                <textarea class="form-control" rows="2" placeholder="Notlar…"></textarea>
              </div>
            </div>
            <div class="mt-3 d-flex gap-2">
              <button class="btn btn-primary" type="button">Kaydet</button>
              <button class="btn btn-outline-secondary" type="reset">Temizle</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- SAĞDA: “Eski kutular” tarzı ÜRÜN KART GRID -->
    <div class="col-lg-5">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h6 class="mb-0">Ürünler</h6>
        <input class="form-control form-control-sm" style="max-width:240px" placeholder="Ara…">
      </div>
      <div class="row g-2">
        {% for i in range(1,6) %}
        <div class="col-6">
          <div class="card product-card h-100">
            <div class="card-body py-3">
              <div class="product-title">Ürün {{ i }}</div>
              <div class="text-muted small">Kategori: —</div>
              <div class="badge bg-secondary mt-2">Stok: 0</div>
            </div>
            <div class="card-footer d-flex gap-2">
              <button class="btn btn-sm btn-outline-primary w-100" type="button">Detay</button>
              <button class="btn btn-sm btn-outline-dark w-100" type="button">Düzenle</button>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endif %}

  <!-- İÇERİK: KULLANICILAR -->
  {% if sub=='kullanicilar' %}
  <nav class="small text-muted mt-3 mb-2">Admin » Kullanıcılar</nav>

  <!-- “Eski kutular” üstte kalsın; altında kullanıcı kart grid -->
  <div class="card shadow-sm mt-2">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="d-flex gap-2">
          <input class="form-control form-control-sm" style="max-width:260px" placeholder="Kullanıcı ara…">
          <select class="form-select form-select-sm" style="max-width:160px">
            <option>Tümü</option><option>Aktif</option><option>Pasif</option>
          </select>
        </div>
        <button class="btn btn-sm btn-primary" type="button">Yeni Kullanıcı</button>
      </div>

      <div class="row g-3">
        {% for i in range(1,12) %}
        <div class="col-12 col-sm-6 col-lg-4">
          <div class="card user-card h-100">
            <div class="card-body d-flex align-items-center gap-3">
              <div class="avatar">{{ ('U' ~ i)[:2] }}</div>
              <div class="flex-grow-1">
                <div class="fw-semibold">Kullanıcı {{ i }}</div>
                <div class="text-muted small">ad{{i}}@firma.com • IT</div>
                <div class="mt-1">
                  <span class="badge bg-success">Aktif</span>
                  <span class="badge bg-secondary">Rol: Kullanıcı</span>
                </div>
              </div>
            </div>
            <div class="card-footer d-flex gap-2">
              <button class="btn btn-sm btn-outline-primary w-100" type="button">Detay</button>
              <button class="btn btn-sm btn-outline-dark w-100" type="button">Düzenle</button>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

    </div>
  </div>
  {% endif %}

</div>

<style>
  .nav-tabs .nav-link.active { font-weight:600; }
  .nav-pills .nav-link { padding:.25rem .75rem; }
  .bg-light { background:#f8f9fa !important; }
  .stat-box .stat-title{ font-size:.78rem; color:#6c757d; }
  .stat-box .stat-value{ font-size:1.35rem; font-weight:700; }
  .product-card .product-title{ font-weight:600; }
  .user-card .avatar{
    width:42px; height:42px; border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    background:#e9ecef; font-weight:700;
  }
  .card{ border-radius:1rem; }
</style>
{% endblock %}
